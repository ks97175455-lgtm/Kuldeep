
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Greeting â€” Mood + Time + Floating Emojis</title>

<style>
  :root{
    --bg: linear-gradient(135deg,#e6f7ff,#ffffff);
    --card-bg: rgba(255,255,255,0.75);
    --text: #052035;
    --accent: #1d4ed8;
  }

  html,body{
    height:100%;
    margin:0;
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    color:var(--text);
    background:var(--bg);
  }

  body{
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    overflow:hidden;
  }

  .wrap{
    width:min(980px,96%);
    display:grid;
    grid-template-columns:1fr 380px;
    gap:20px;
    align-items:start;
  }

  .card{
    background:var(--card-bg);
    border-radius:14px;
    padding:18px;
    box-shadow:0 8px 30px rgba(10,20,30,0.06);
    border:1px solid rgba(255,255,255,0.5);
  }

  header h1{margin:0 0 6px 0;font-size:20px}
  header p{margin:0 0 12px 0;color:rgba(5,32,53,0.6);font-size:13px}

  .controls label{display:block;font-size:13px;margin:8px 0 6px;color:rgba(5,32,53,0.75)}
  .controls input,.controls select{
    width:100%;padding:10px;border-radius:8px;
    border:1px solid rgba(5,32,53,0.06);
    background:rgba(255,255,255,0.9);
    font-size:15px;
  }

  .row{display:flex;gap:10px;margin-top:10px}
  .btn{padding:10px 14px;border-radius:8px;border:0;cursor:pointer;background:var(--accent);color:white;font-weight:600}
  .btn.secondary{background:transparent;border:1px solid rgba(29,78,216,0.12);color:var(--accent)}

  .preview{padding:18px;display:flex;flex-direction:column;gap:12px}

  .greeting-box{
    min-height:140px;border-radius:12px;
    display:flex;align-items:center;justify-content:center;
    flex-direction:column;text-align:center;
    padding:16px;font-size:20px;font-weight:700;
    background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));
  }

  .greeting-text{opacity:0;transform:translateY(8px);transition:.35s}
  .greeting-text.show{opacity:1;transform:translateY(0)}
  .meta{font-size:13px;color:rgba(5,32,53,0.6);margin-top:6px}

  /* Emojis */
  .emoji-layer{pointer-events:none;position:fixed;left:0;top:0;right:0;bottom:0;z-index:40}
  .emoji{position:absolute;font-size:22px;animation:floatUp linear forwards;opacity:0}
  @keyframes floatUp{
    0%{transform:translateY(0) scale(.95);opacity:0}
    12%{opacity:1;transform:translateY(-8px) scale(1)}
    100%{opacity:0;transform:translateY(-420px) scale(1.02)}
  }

  /* Raindrops */
  .raindrop{position:absolute;width:6px;border-radius:6px;background:rgba(255,255,255,0.9);opacity:0;animation:drop linear forwards}
  @keyframes drop{
    0%{opacity:0;transform:translateY(-20px)}
    10%{opacity:1}
    100%{opacity:0;transform:translateY(380px)}
  }

  /* Zzz */
  .zzz{position:absolute;font-size:18px;color:rgba(0,0,0,0.55);opacity:0;animation:zzzUp ease forwards}
  @keyframes zzzUp{
    0%{opacity:0;transform:translateY(0)}
    20%{opacity:1;transform:translateY(-10px)}
    100%{opacity:0;transform:translateY(-120px)}
  }
</style>
</head>

<body>

<div class="emoji-layer"></div>

<div class="wrap">
  <section class="card">
    <header>
      <h1>Greeting â€” Mood + Time + Emojis</h1>
    </header>

    <div class="controls">
      <label>Your name</label>
      <input id="name" type="text" placeholder="e.g., Rahul">

      <label>Your mood</label>
      <select id="mood">
        <option value="">â€” pick mood â€”</option>
        <option value="happy">Happy</option>
        <option value="sad">Sad</option>
        <option value="excited">Excited</option>
        <option value="tired">Tired</option>
      </select>

      <div class="row">
        <button class="btn" id="showBtn">Show Greeting</button>
        <button class="btn secondary" id="surpriseBtn">Surprise Me</button>
        <button class="btn secondary" id="resetBtn">Reset</button>
      </div>
    </div>
  </section>

  <aside class="card preview">
    <div class="greeting-box" id="greetingBox">
      <div class="greeting-text" id="greetText">Your greeting will appear here.</div>

      <!-- â­ TIME DISPLAY â­ -->
      <div class="meta" id="timeBox" style="font-size:15px;font-weight:600;margin-top:8px;"></div>

      <div class="meta" id="metaStatus">Status: waiting</div>
    </div>
  </aside>
</div>

<script>
/* Mood map */
const moodMap = {
 happy:{gradient:'linear-gradient(135deg,#FFDEE9,#B5FFFC)',accent:'#ff6fa3',emojis:['ðŸ˜Š','ðŸ˜„','ðŸŽ‰','ðŸŒž','ðŸ¥³']},
 sad:{gradient:'linear-gradient(135deg,#cfd9df,#e2ebf0)',accent:'#5b6b90',emojis:['ðŸ˜¢','ðŸ’§','â˜”'],raindrop:true},
 excited:{gradient:'linear-gradient(135deg,#FFEDBC,#FFC6FF)',accent:'#f97316',emojis:['ðŸ¤©','ðŸš€','âœ¨','ðŸŽ†']},
 tired:{gradient:'linear-gradient(135deg,#d7d2cc,#304352)',accent:'#64748b',emojis:['ðŸ˜´','ðŸ’¤','ðŸ›Œ'],zzz:true},
 default:{gradient:'linear-gradient(135deg,#e6f7ff,#ffffff)',accent:'#1d4ed8',emojis:[]}
};

const body = document.body;
const nameInput = document.getElementById("name");
const moodSelect = document.getElementById("mood");
const greetText = document.getElementById("greetText");
const timeBox = document.getElementById("timeBox");
const metaStatus = document.getElementById("metaStatus");
const emojiLayer = document.querySelector(".emoji-layer");

let floatTimers = [];
let timeInterval = null;

/* Apply mood visuals */
function applyMood(mood){
  const s = moodMap[mood] || moodMap.default;
  body.style.background = s.gradient;
  document.documentElement.style.setProperty("--accent", s.accent);
}

/* Clear emojis */
function clearFloating(){
  floatTimers.forEach(t=>clearTimeout(t));
  floatTimers = [];
  emojiLayer.innerHTML = "";
}

/* Spawn mood visuals */
function spawnFloating(mood){
  clearFloating();
  const s = moodMap[mood] || moodMap.default;
  const w = innerWidth, h = innerHeight;

  if (s.emojis){
    for(let i=0;i<10;i++){
      const e = document.createElement("div");
      e.className="emoji";
      e.textContent=s.emojis[Math.floor(Math.random()*s.emojis.length)];
      e.style.left = (Math.random()*(w-60)+20)+"px";
      e.style.top = (h*0.9 + Math.random()*60)+"px";
      e.style.animationDuration = (3+Math.random()*2)+"s";
      emojiLayer.appendChild(e);
      floatTimers.push(setTimeout(()=>e.remove(),4000));
    }
  }

  if(s.raindrop){
    for(let i=0;i<12;i++){
      const d=document.createElement("div");
      d.className="raindrop";
      d.style.left=(Math.random()*(w-20)+10)+"px";
      d.style.top=(-40-Math.random()*80)+"px";
      d.style.animationDuration=(1+Math.random()*1)+"s";
      emojiLayer.appendChild(d);
      floatTimers.push(setTimeout(()=>d.remove(),1800));
    }
  }

  if(s.zzz){
    for(let i=0;i<5;i++){
      const z=document.createElement("div");
      z.className="zzz";
      z.textContent="zzz";
      z.style.left=(Math.random()*(w-80)+30)+"px";
      z.style.top=(h*0.7 + Math.random()*120)+"px";
      z.style.animationDuration=(1.6+Math.random()*1.2)+"s";
      emojiLayer.appendChild(z);
      floatTimers.push(setTimeout(()=>z.remove(),2500));
    }
  }
}

/* Format time */
function getTime(){
  const now=new Date();
  let h=now.getHours(), m=String(now.getMinutes()).padStart(2,'0'), s=String(now.getSeconds()).padStart(2,'0');
  let ampm="AM";
  if(h>=12) ampm="PM";
  if(h>12) h-=12;
  if(h===0) h=12;
  return `${h}:${m}:${s} ${ampm}`;
}

/* Show greeting */
function showGreeting(){
  const name=(nameInput.value.trim()||"Friend");
  const mood=moodSelect.value||"";

  applyMood(mood);
  spawnFloating(mood);

  const hour=new Date().getHours();
  let text="";
  if(hour<5) text="Good Early Morning";
  else if(hour<12) text="Good Morning";
  else if(hour<18) text="Good Afternoon";
  else text="Good Evening";

  greetText.textContent = `${text}, ${name}!`;
  greetText.classList.remove("show");
  void greetText.offsetWidth;
  greetText.classList.add("show");

  timeBox.textContent = "Time: " + getTime();
  if(timeInterval) clearInterval(timeInterval);
  timeInterval=setInterval(()=> timeBox.textContent="Time: "+getTime(),1000);

  metaStatus.textContent = `Greeting shown for ${name}`;
}

/* Surprise */
function surprise(){
  const names=['Asha','Ravi','Priya','Karan','Sana','Arjun','Maya','Sam'];
  const moods=['happy','sad','excited','tired'];
  nameInput.value=names[Math.floor(Math.random()*names.length)];
  moodSelect.value=moods[Math.floor(Math.random()*moods.length)];
  showGreeting();
}

/* Reset */
function resetUI(){
  clearFloating();
  if(timeInterval) clearInterval(timeInterval);
  greetText.textContent="Your greeting will appear here.";
  greetText.classList.remove("show");
  timeBox.textContent="";
  nameInput.value="";
  moodSelect.value="";
  metaStatus.textContent="Status: waiting";
  applyMood("default");
}

/* Events */
document.getElementById("showBtn").onclick=showGreeting;
document.getElementById("surpriseBtn").onclick=surprise;
document.getElementById("resetBtn").onclick=resetUI;

applyMood("default");
</script>

</body>
</html>
